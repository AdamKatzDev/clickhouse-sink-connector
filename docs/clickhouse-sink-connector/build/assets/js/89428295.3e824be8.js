"use strict";(self.webpackChunkclickhouse_sink_connector=self.webpackChunkclickhouse_sink_connector||[]).push([[6904],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=s(n),h=o,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||i;return n?r.createElement(m,a(a({ref:t},p),{},{components:n})):r.createElement(m,a({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9284:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const i={},a=void 0,c={unversionedId:"doc/sink_connector_cli",id:"doc/sink_connector_cli",title:"sink_connector_cli",description:"Sink Connector Lightweight (CLI)",source:"@site/docs/doc/sink_connector_cli.md",sourceDirName:"doc",slug:"/doc/sink_connector_cli",permalink:"/clickhouse-sink-connector/docs/doc/sink_connector_cli",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/doc/sink_connector_cli.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"sink_configuration",permalink:"/clickhouse-sink-connector/docs/doc/sink_configuration"},next:{title:"transactions",permalink:"/clickhouse-sink-connector/docs/doc/transactions"}},l={},s=[{value:"Sink Connector Lightweight (CLI)",id:"sink-connector-lightweight-cli",level:3},{value:"Operations",id:"operations",level:2},{value:"API",id:"api",level:2}],p={toc:s},u="wrapper";function d(e){let{components:t,...i}=e;return(0,o.kt)(u,(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"sink-connector-lightweight-cli"},"Sink Connector Lightweight (CLI)"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"arch",src:n(4101).Z,width:"551",height:"371"})),(0,o.kt)("p",null,"The CLI application will translate the CLI commands to REST payload messages."),(0,o.kt)("p",null,"Option in sink connector lightweight to not start automatically unless\nthe user specifies the ",(0,o.kt)("strong",{parentName:"p"},"start_replica")," flag.(skip-replica-start) in the yaml file.\nThis will give users option to set the binlog status/position, gtid\n",(0,o.kt)("strong",{parentName:"p"},"change_replication_source")," before starting the replication."),(0,o.kt)("h2",{id:"operations"},"Operations"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Startup"),", the CLI application will send a REST API call to the server, if it gets a 200, it will continue or throw an error."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Start_replica"),", CLI application will send a REST API call to the server to start replication(start Debezium event loop)"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Stop_replica"),", CLI application will send a REST API call to the server to stop replication(stop Debezium event loop)"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"change_replication_source"),", CLI application will send the gtid, binlog file, and binlog position to the server to change the replication source\nServer will update the table with this information will restart the debezium event loop."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"show replica status")," Return the information from the ",(0,o.kt)("strong",{parentName:"li"},"replica_status")," table.")),(0,o.kt)("h2",{id:"api"},"API"))}d.isMDXComponent=!0},4101:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/sink_connector_cli.drawio-3b156ac1b5f5993c53bf742ff972318f.png"}}]);